{"ast":null,"code":"var _jsxFileName = \"/Users/shimys/Desktop/react-spring-workspace/thechallenge/frontend/src/routes/Signup.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { authApi } from 'api';\nimport styled from \"styled-components\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n    background-color: #fafafa;\n    width: 100%;\n    height: calc(100vh - 60px);\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`;\n_c = Container;\nconst SignupBox = styled.div`\n    background-color: #fafafa;\n    box-shadow: 0px 0px 3px 1px gray;\n\n    width: 350px;\n    height:550px;\n    border-radius:20px;\n    padding:0 40px 20px 40px;\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n`;\n_c2 = SignupBox;\nconst SignupTitle = styled.div`\n    font-size: 35px;\n    font-weight: 600px;\n    font-style: italic;\n    padding-top: 20px;\n    margin-bottom: 30px;\n`;\n_c3 = SignupTitle;\nconst SignupForm = styled.form`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    width:100%;\n`;\n_c4 = SignupForm;\nconst FormInput = styled.input`\n    height: 35px;\n    border: 2px solid gray;\n    border-radius: 5px;\n    text-align: center;\n    &:nth-child(1){\n        width: 75%;\n        border-right: none;\n        border-top-right-radius: 0;\n        border-bottom-right-radius: 0;\n    }\n`;\n_c5 = FormInput;\nconst ErrorMessage = styled.div`\n    height: 12px;\n    margin: 5px 0;\n    font-size: 12px;\n    text-align: center;\n`;\n_c6 = ErrorMessage;\nconst FormBtn = styled.button`\n    cursor: pointer;\n    height: 35px;\n    background-color: #fafafa;\n    color: #0095f6;\n    border:2px solid #0095f6;\n    border-radius:5px;\n    &:hover{\n        color: #fafafa;\n        background-color: #0095f6;\n        box-shadow: 0px 0px 1px 1px #0095f6;\n    }\n`;\n_c7 = FormBtn;\nconst DupBox = styled.div`\n    display: flex;\n`;\n_c8 = DupBox;\nconst DupCheckBtn = styled.div`\n    display: flex;\n    justify-content: center;\n    background-color: #fafafa;\n    color: #0095f6;\n\n    width: 25%;\n    height: 35px;\n    border: 2px solid gray;\n    border-left: none;\n    border-radius: 5px;\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n    cursor: pointer;\n    &:hover{\n        color: #fafafa;\n        background-color: #0095f6;\n        border: 1px solid #0095f6;\n        box-shadow: 0px 0px 1px 1px #0095f6;\n    }\n`;\n_c9 = DupCheckBtn;\n\nconst Signup = props => {\n  _s();\n\n  const [state, setState] = useState({\n    username: null,\n    password: null,\n    name: null,\n    email: null\n  });\n  const [valid, setValid] = useState({\n    username: false,\n    name: false,\n    password: false,\n    email: false\n  });\n  const [error, setError] = useState({\n    username: null,\n    password: null,\n    name: null,\n    email: null\n  });\n  /* 중복검사, confirm 통과시 true */\n\n  const [check, setCheck] = useState({\n    username: false,\n    password: false\n  });\n\n  const onChange = e => {\n    const {\n      title,\n      value\n    } = e.target;\n    setState({ ...state,\n      [title]: value\n    });\n  };\n\n  const checkDupl = async e => {\n    e.preventDefault();\n    console.log(e);\n    const usernameInput = document.getElementsByClassName('usernameInput')[0];\n    const rawUsername = usernameInput.value;\n    const result = await authApi.duplication(rawUsername);\n    console.log(result);\n    console.log('가공 ', result.data.code); // 중복됨\n\n    if (result.data.code === -1) {\n      setMessage('duplication', false);\n      usernameInput.style.color = '#EE2003';\n      usernameInput.style.border = '2px solid #ED2003';\n      document.getElementsByClassName('username')[0].style.color = '#EE2003';\n    } else {\n      setMessage('username', true);\n      usernameInput.style.color = '#00D904';\n      usernameInput.style.border = '2px solid #00D904';\n      document.getElementsByClassName('username')[0].style.color = '#00D904';\n    }\n  };\n\n  const checkPassword = e => {};\n\n  const checkValid = async e => {\n    const {\n      title,\n      value\n    } = e.target;\n    var regExp; // eslint-disable-next-line default-case\n\n    switch (title) {\n      case 'username':\n        regExp = /^[A-Za-z]{1}[A-Za-z0-9_-]{3,19}$/; //영문시작 숫자+언더바/하이픈 + 4~20자리\n\n        break;\n\n      case 'password':\n        regExp = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/;\n        break;\n\n      case 'name':\n        regExp = /^[가-힣a-zA-Z]+$/; //한글, 영문만 \n\n        break;\n\n      case 'email':\n        regExp = /^[0-9a-zA-Z]([-_\\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\\.]?[0-9a-zA-Z])*\\.[a-zA-Z]{2,3}$/i;\n        break;\n    }\n\n    if (regExp.test(value)) {\n      setValid({ ...valid,\n        [title]: true\n      });\n\n      if (title !== 'username') {\n        setMessage(title, true);\n        e.target.style.border = '2px solid #00D904';\n        document.getElementsByClassName(title)[0].style.color = '#00D904';\n      } else {\n        // username\n        e.target.style.border = '2px solid gray';\n        setError({ ...error,\n          [title]: null\n        });\n        document.getElementsByClassName('dupCheckBtn')[0].disabled = false;\n      }\n    } else {\n      setValid({ ...valid,\n        [title]: false\n      });\n      setMessage(title, false);\n      e.target.style.border = '2px solid #ED2003';\n      document.getElementsByClassName(title)[0].style.color = '#EE2003';\n\n      if (title === 'username') {\n        document.getElementsByClassName('dupCheckBtn')[0].disabled = true;\n      }\n    }\n  };\n\n  const setMessage = (title, result) => {\n    let msg = null; // 성공 메세지\n\n    if (result === true) {\n      // eslint-disable-next-line default-case\n      switch (title) {\n        case 'username':\n          msg = '사용할 수 있는 Username 입니다.';\n          break;\n\n        case 'password':\n          msg = '사용할 수 있는 Password 입니다.';\n          break;\n\n        case 'name':\n          msg = '사용할 수 있는 Name 입니다.';\n          break;\n\n        case 'email':\n          msg = '사용할 수 있는 Email 입니다.';\n          break;\n      } // 실패 메세지\n\n    } else {\n      // eslint-disable-next-line default-case\n      switch (title) {\n        case 'username':\n          msg = '영문시작, 영문/숫자/언더바/하이픈, 4~20자';\n          break;\n\n        case 'password':\n          msg = '8자리 이상, 대문자, 소문자, 특수문자, 숫자 포함';\n          break;\n\n        case 'name':\n          msg = '한글, 영문';\n          break;\n\n        case 'email':\n          msg = '이메일 형식';\n          break;\n\n        case 'duplication':\n          msg = '중복된 아이디 입니다.';\n          title = 'username';\n          break;\n      }\n    }\n\n    setError({ ...error,\n      [title]: msg\n    });\n  };\n\n  const handleSubmit = async e => {};\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(SignupBox, {\n      children: [/*#__PURE__*/_jsxDEV(SignupTitle, {\n        children: \"Sign-up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(SignupForm, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(DupBox, {\n          children: [/*#__PURE__*/_jsxDEV(FormInput, {\n            className: \"usernameInput\",\n            type: \"text\",\n            onChange: onChange,\n            onBlur: checkValid,\n            title: \"username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(DupCheckBtn, {\n            disabled: true,\n            className: \"dupCheckBtn\",\n            onClick: checkDupl,\n            children: \"\\uC911\\uBCF5\\uAC80\\uC0AC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          className: \"username\",\n          children: error.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n          type: \"password\",\n          onChange: onChange,\n          onBlur: checkValid,\n          title: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          className: \"password\",\n          children: error.password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Confirm Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n          type: \"password\",\n          onChange: checkPassword,\n          title: \"password2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n          type: \"text\",\n          onChange: onChange,\n          onBlur: checkValid,\n          title: \"name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          className: \"name\",\n          children: error.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n          type: \"email\",\n          onChange: onChange,\n          onBlur: checkValid,\n          title: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          className: \"email\",\n          children: error.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(FormBtn, {\n          children: \"\\uD68C\\uC6D0\\uAC00\\uC785\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 270,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Signup, \"mR6kjRD43TK8LxcqzH2MEbn15pk=\");\n\n_c10 = Signup;\nexport default Signup;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10;\n\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"SignupBox\");\n$RefreshReg$(_c3, \"SignupTitle\");\n$RefreshReg$(_c4, \"SignupForm\");\n$RefreshReg$(_c5, \"FormInput\");\n$RefreshReg$(_c6, \"ErrorMessage\");\n$RefreshReg$(_c7, \"FormBtn\");\n$RefreshReg$(_c8, \"DupBox\");\n$RefreshReg$(_c9, \"DupCheckBtn\");\n$RefreshReg$(_c10, \"Signup\");","map":{"version":3,"sources":["/Users/shimys/Desktop/react-spring-workspace/thechallenge/frontend/src/routes/Signup.js"],"names":["React","useState","Link","authApi","styled","Container","div","SignupBox","SignupTitle","SignupForm","form","FormInput","input","ErrorMessage","FormBtn","button","DupBox","DupCheckBtn","Signup","props","state","setState","username","password","name","email","valid","setValid","error","setError","check","setCheck","onChange","e","title","value","target","checkDupl","preventDefault","console","log","usernameInput","document","getElementsByClassName","rawUsername","result","duplication","data","code","setMessage","style","color","border","checkPassword","checkValid","regExp","test","disabled","msg","handleSubmit"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {useState} from 'react';\nimport { Link } from 'react-router-dom';\nimport { authApi } from 'api';\nimport styled from \"styled-components\";\n\nconst Container = styled.div`\n    background-color: #fafafa;\n    width: 100%;\n    height: calc(100vh - 60px);\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`;\nconst SignupBox = styled.div`\n    background-color: #fafafa;\n    box-shadow: 0px 0px 3px 1px gray;\n\n    width: 350px;\n    height:550px;\n    border-radius:20px;\n    padding:0 40px 20px 40px;\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n`;\nconst SignupTitle = styled.div`\n    font-size: 35px;\n    font-weight: 600px;\n    font-style: italic;\n    padding-top: 20px;\n    margin-bottom: 30px;\n`;\nconst SignupForm = styled.form`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    width:100%;\n`;\nconst FormInput = styled.input`\n    height: 35px;\n    border: 2px solid gray;\n    border-radius: 5px;\n    text-align: center;\n    &:nth-child(1){\n        width: 75%;\n        border-right: none;\n        border-top-right-radius: 0;\n        border-bottom-right-radius: 0;\n    }\n`;\nconst ErrorMessage = styled.div`\n    height: 12px;\n    margin: 5px 0;\n    font-size: 12px;\n    text-align: center;\n`;\nconst FormBtn = styled.button`\n    cursor: pointer;\n    height: 35px;\n    background-color: #fafafa;\n    color: #0095f6;\n    border:2px solid #0095f6;\n    border-radius:5px;\n    &:hover{\n        color: #fafafa;\n        background-color: #0095f6;\n        box-shadow: 0px 0px 1px 1px #0095f6;\n    }\n`;\nconst DupBox = styled.div`\n    display: flex;\n`;\nconst DupCheckBtn = styled.div`\n    display: flex;\n    justify-content: center;\n    background-color: #fafafa;\n    color: #0095f6;\n\n    width: 25%;\n    height: 35px;\n    border: 2px solid gray;\n    border-left: none;\n    border-radius: 5px;\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n    cursor: pointer;\n    &:hover{\n        color: #fafafa;\n        background-color: #0095f6;\n        border: 1px solid #0095f6;\n        box-shadow: 0px 0px 1px 1px #0095f6;\n    }\n`;\n\nconst Signup = (props) => {\n    const [state, setState] = useState({\n        username: null,\n        password: null,\n        name:null,\n        email:null\n    });\n    const [valid, setValid] = useState({\n        username: false,\n        name: false,\n        password: false,\n        email: false\n    });\n    const [error, setError] = useState({\n        username: null,\n        password: null,\n        name:null,\n        email:null\n    });\n    /* 중복검사, confirm 통과시 true */\n    const [check, setCheck] = useState({\n        username: false,\n        password: false\n    })\n\n    const onChange = (e) => {\n        const { title, value } = e.target;\n        setState({\n            ...state,\n            [title]: value  \n        })\n    }\n\n    const checkDupl = async(e) => {\n        e.preventDefault();\n\n        console.log(e);\n\n        const usernameInput = document.getElementsByClassName('usernameInput')[0];\n        const rawUsername = usernameInput.value;\n        \n        const result = await authApi.duplication(rawUsername);\n\n        console.log(result);\n        console.log('가공 ',result.data.code);\n        // 중복됨\n\n        if(result.data.code === -1){\n            setMessage('duplication', false);\n            usernameInput.style.color = '#EE2003';\n            usernameInput.style.border = '2px solid #ED2003';\n            document.getElementsByClassName('username')[0].style.color = '#EE2003';\n        } else {\n            setMessage('username', true);\n            usernameInput.style.color = '#00D904';\n            usernameInput.style.border = '2px solid #00D904';\n            document.getElementsByClassName('username')[0].style.color = '#00D904';\n        }\n    }\n\n    const checkPassword = (e) => {\n\n    }\n\n    const checkValid = async (e) => {\n        const { title, value } = e.target;\n        var regExp;\n        // eslint-disable-next-line default-case\n        switch(title){\n            case 'username':\n                regExp = /^[A-Za-z]{1}[A-Za-z0-9_-]{3,19}$/; //영문시작 숫자+언더바/하이픈 + 4~20자리\n                break;\n            case 'password':\n                regExp = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/;\n                break;\n            case 'name':\n                regExp = /^[가-힣a-zA-Z]+$/; //한글, 영문만 \n                break;\n            case 'email':\n                regExp = /^[0-9a-zA-Z]([-_\\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\\.]?[0-9a-zA-Z])*\\.[a-zA-Z]{2,3}$/i;\n                break;\n        }\n\n        if(regExp.test(value)){\n            setValid({\n                ...valid,\n                [title]: true\n            })\n\n            if(title !== 'username'){\n                setMessage(title, true);\n                e.target.style.border = '2px solid #00D904';\n                document.getElementsByClassName(title)[0].style.color = '#00D904';\n            } else {\n                // username\n                e.target.style.border = '2px solid gray';\n                setError({\n                    ...error,\n                    [title]: null\n                })\n                document.getElementsByClassName('dupCheckBtn')[0].disabled = false;\n            }\n            \n        } else {\n            setValid({\n                ...valid,\n                [title]: false\n            })\n            setMessage(title, false);\n            e.target.style.border = '2px solid #ED2003';\n            document.getElementsByClassName(title)[0].style.color = '#EE2003';\n            if(title === 'username'){\n                document.getElementsByClassName('dupCheckBtn')[0].disabled = true;\n            }\n        }\n    }\n\n    const setMessage = (title, result) => {\n        let msg = null;\n        // 성공 메세지\n        if(result === true){\n            // eslint-disable-next-line default-case\n            switch(title){\n                case 'username':\n                    msg = '사용할 수 있는 Username 입니다.';\n                    break;\n                case 'password':\n                    msg = '사용할 수 있는 Password 입니다.';\n                    break;\n                case 'name':\n                    msg = '사용할 수 있는 Name 입니다.';\n                    break;\n                case 'email':\n                    msg = '사용할 수 있는 Email 입니다.';\n                    break;\n            }\n            \n        // 실패 메세지\n        } else {\n            // eslint-disable-next-line default-case\n            switch(title){\n                case 'username':\n                    msg = '영문시작, 영문/숫자/언더바/하이픈, 4~20자';\n                    break;\n                case 'password':\n                    msg = '8자리 이상, 대문자, 소문자, 특수문자, 숫자 포함';\n                    break;\n                case 'name': \n                    msg = '한글, 영문';\n                    break;\n                case 'email':\n                    msg = '이메일 형식';\n                    break;\n                case 'duplication':\n                    msg = '중복된 아이디 입니다.';\n                    title = 'username';\n                    break;\n            }\n        }\n\n        setError({\n            ...error,\n            [title]: msg\n        })\n    }\n\n    const handleSubmit = async(e) => {\n\n    }\n\n    return (\n        <Container>\n            <SignupBox>\n                <SignupTitle>Sign-up</SignupTitle>\n                <SignupForm>\n                    <label>Username</label>\n                    <DupBox>\n                        <FormInput className=\"usernameInput\" type=\"text\" onChange={onChange} onBlur={checkValid}  title=\"username\" />\n                        <DupCheckBtn disabled className=\"dupCheckBtn\" onClick={checkDupl}>중복검사</DupCheckBtn>\n                    </DupBox>\n                    <ErrorMessage className=\"username\">{error.username}</ErrorMessage>\n                    <label>Password</label>\n                    <FormInput type=\"password\" onChange={onChange} onBlur={checkValid} title=\"password\" />\n                    <ErrorMessage className=\"password\">{error.password}</ErrorMessage>\n                    <label>Confirm Password</label>\n                    <FormInput type=\"password\" onChange={checkPassword} title=\"password2\" />\n                    <ErrorMessage></ErrorMessage>\n                    <label>Name</label>\n                    <FormInput type=\"text\" onChange={onChange} onBlur={checkValid} title=\"name\" />\n                    <ErrorMessage className=\"name\">{error.name}</ErrorMessage>\n                    <label>Email</label>\n                    <FormInput type=\"email\" onChange={onChange} onBlur={checkValid} title=\"email\" />\n                    <ErrorMessage className=\"email\">{error.email}</ErrorMessage>\n                    <FormBtn>회원가입</FormBtn>\n                </SignupForm>\n            </SignupBox>\n        </Container>\n    )\n};\n\nexport default Signup;"]},"metadata":{},"sourceType":"module"}